import os
from supabase import create_client, SupabaseException

# Load secrets
supabase_url = os.getenv("SUPABASE_URL")
supabase_key = os.getenv("SUPABASE_SERVICE_ROLE_KEY")

# Debug output
print("🧪 DEBUG: SUPABASE_URL =", supabase_url)
print("🔐 DEBUG: SERVICE ROLE KEY is set =", bool(supabase_key))

# Attempt to connect
try:
    supabase = create_client(supabase_url, supabase_key)
    print("✅ Connection successful.")
except SupabaseException as e:
    print("❌ SupabaseException:", str(e))
    raise
except Exception as e:
    print("❌ General Exception:", str(e))
    raise
