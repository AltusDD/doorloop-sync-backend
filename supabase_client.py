# (Gemini's full corrected code would be pasted here)
# Placeholder due to token limits - you can copy/paste the full Gemini response manually